# 어린이를 위한 안전 길 찾기 애플리케이션
## 💡 개발 동기 💡 
매년, 사회적 약자를 대상으로 하는 범죄에 대한 피해 신고 접수가 증가하고 있는 현실을 목격하고 있다.   <br/> <br/>
특히, 아동범죄는 빈번하게 발생하는 사건 중 하나로, 이를 예방할 방안에 대한 고찰이 필요하다. 이에 따라, 13세 미만 어린이를 대상으로 한 주제가 제시되었다. 
현재, 어린이에 대한 사회적 관심은 높아지고 있으며 사회 안전망이 구축되고 있지만, 연쇄 아동 성폭행범들이 다수 출소함에 따라 보호자들의 우려가 커지고 있다. 
아이들은 무심코 위험에 노출되어 사라질 수 있다.  <br/> <br/>
따라서, 아이의 안전을 지키기 위해 아이의 위치를 확인할 수 있고, 길을 잃은 아이가 혼자서도 집으로 안전하게 귀가할 수 있도록 도움을 주는 어린이용 길 찾기 애플리케이션을 개발하고자 한다.
 <br/>  <br/> 
## ⚙️ 개발 환경 ⚙️
1) 개발 도구 <br/> 
통합 개발 환경(IDE): Visual Studio Code <br/> 
버전 관리 도구: Git <br/> 

2) 프로그래밍 언어 및 프레임워크 <br/> 
언어: C++, Java, Python <br/> 
데이터베이스 관련 도구: Firebase Firestore <br/> 

3) 기타 도구 및 라이브러리 <br/> 
UnityHub <br/> 
Firebase
<br/>  <br/> 
## 📝 핵심 기능 📝
1) 어린이의 안전한 이동 보장 <br/> 
 이 프로젝트의 주요 목표는 어린이들이 안전하게 도로를 건너거나 지역을 이동할 수 있는 안전한 경로를 제공하는 애플리케이션을 개발하는 것이다.
어린이들은 종종 도로를 안전하게 건너야 하거나 동네를 이동해야 하는데, 이 애플리케이션은 아이들에게 안전한 길을 제공하여 위험을 최소화한다.

2) 안전한 경로 제공 <br/> 
 애플리케이션은 다양한 안전 지표를 활용하여 안전한 경로를 탐색하고 사용자에게 제공한다. 이러한 안전 지표에는 CCTV, 어린이 보호 구역, 안전 비상벨 등이 포함된다.
경로를 계산할 때 이러한 요소들을 고려하여 어린이에게 안전한 경로를 제공한다.

3) AR 내비게이션 기능 제공 <br/> 
 어린이들은 AR 내비게이션을 통해 안전 경로를 더 쉽게 찾을 수 있다. AR을 활용하여 3D 객체와 캐릭터를 사용하여 보다 직관적이고 흥미로운 길 찾기 경험을 제공한다.
이를 통해 어린이들은 더 즐겁게 안전한 길을 따를 수 있다.

4) 보호자 기능 제공 <br/> 
 애플리케이션은 부모나 보호자를 위한 기능을 제공한다. 실시간 위치 확인 기능을 통해 부모나 보호자는 언제든지 어린이의 위치를 확인할 수 있다.
또한, 어린이가 긴급한 상황에서 신고 버튼을 누르면 현재 위치와 함께 메시지를 전송할 수 있어, 긴급 상황에 신속하게 대응할 수 있다.

5) 안전한 시설 시각화 <br/> 
 애플리케이션은 사용자에게 주변의 안전시설을 시각화하여 표시한다. 이는 경찰서, 안전 비상벨, 어린이 보호 구역과 같은 어린이가 도움을 받을 수 있는 시설들을 지도상에 표시하는 것을 의미한다.
사용자는 이를 통해 주변의 안전한 장소를 찾을 수 있고, 위험 상황을 최소화할 수 있다.
 <br/>  <br/>
## 🗂 상세 설명 🗂
### 📂 A* 알고리즘의 원리와 동작 방식 📂
본 지도 애플리케이션에서 사용한 길 찾기 알고리즘은 A* 알고리즘이다. A* 알고리즘은 경로 탐색 문제에서 최적의 경로를 빠르게 찾는 데 사용되는 그래프 탐색 알고리즘이다. 
A* 알고리즘은 목적지까지의 거리뿐만 아니라 추정 함수인 휴리스틱 함수를 이용하여 최단 거리를 계산하여 효율적인 경로 탐색이 가능하다. 
A* 알고리즘의 핵심 원리는 다음과 같다. <br/>
1) 출발 노드와 도착 노드를 설정한다. 본 지도 애플리케이션에서는 사용자의 현재 위치를 출발 노드로 지정하고, 사용자가 입력한 목표 위치를 도착 노드로 설정한다.
2) 노드와 엣지로 이루어진 도로 네트워크 그래프를 활용한다. 각 노드는 지도상의 특정 위치를 나타내고, 엣지는 노드 간의 연결 관계를 나타낸다.
3) 비용 함수인 f(n) = g(n) + h(n)를 사용하여 노드를 선택한다.
4) f(n) 값이 가장 작은 노드를 선택하여 탐색을 진행한다. A* 알고리즘에서는 휴리스틱 함수 h(n)를 활용하여 노드의 예상 비용을 계산할 때, 주변 시설을 고려한 안전 가중치를 기반으로 비용을 계산한다.
5) 선택한 노드와 연결된 이웃 노드 중에서 다음 탐색 대상 노드를 선택한다. 이때, g(n) 값은 현재 노드까지의 비용을 나타내며, h(n) 값은 남은 예상 비용을 나타낸다.
  <br/>
도착 노드에 도달하거나 더 이상 탐색할 노드가 없을 때까지 위 과정을 반복한다. 도착 노드에 도달하면 최적 경로를 찾게 되고, 이를 통해 사용자에게 안전한 경로를 제공한다.
<br/> <br/>

### 📂 AR 내비게이션 📂
Unity의 Input 시스템을 사용하여 GPS 위치와 나침반 데이터를 읽어오고 GPS 위치 데이터 및 나침반 데이터의 활성화 여부를 확인하고 업데이트 할 수 있도록 하였다.
해당 프로젝트에서 GPS 위치는 아래와 같이 사용된다. <br/>
1) AR 오브젝트의 위치 설정: AR 오브젝트를 GPS 위치에 맞게 배치한다. 이를 통해 실제 세계의 위치와 가상 세계의 오브젝트를 정확하게 연동한다.
2) AR 내비게이션 경로 계산: 두 GPS 위치 간의 거리 및 방향을 계산하여 AR 내비게이션의 경로를 동적으로 생성한다. 이를 통해 사용자에게 실시간으로 경로 안내를 제공한다.

경로 안내를 위해 AR 기반의 경로를 시각적으로 나타내기 위해 LineRenderer를 활용하여 지정된 위치 경로를 그래픽적으로 표현하였다. 
지정된 LocationPath에 따라 미리 정의된 프리팹을 일정한 간격으로 배치하는 역할을 한다. 
사용자가 이동해야 할 경로를 시각적으로 나타내고 해당 경로 상에 필요한 오브젝트를 배치하는 과정을 설명한다.  <br/> <br/>
그리고 지정된 지리적 위치들을 보간하여 생성된 경로를 따라 움직이도록 오브젝트를 제어한다. 이는 AR 기반 애플리케이션에서 지리적 경로를 따라 객체를 움직이는 핵심 기능이다.
 <br/> <br/>
 
## 💽 데이터베이스 구조 💽
1) 멤버(Members) 컬렉션 <br/> 
사용자 ID: 각 사용자를 식별하는 고유한 식별자. <br/> 
사용자 종류: 보호자 계정 또는 어린이 계정인지를 나타내는 플래그. <br/> 
사용자 정보: 사용자의 이름, 나이, 연락처 등과 같은 정보를 포함하는 문서. <br/> 

2) GPS 컬렉션 <br/> 
사용자 ID: 해당 위치 정보가 어떤 사용자에게 속하는지를 식별하는 ID. <br/> 
위치 정보: GPS 좌표(위도, 경도)를 포함하며, 데이터 저장 시점의 시간 정보를 함께 기록. <br/> 

3) Report 컬렉션 <br/> 
사용자 ID: 신고 정보가 어떤 사용자에게 속하는지를 식별하는 ID. <br/> 
위치 정보: 사용자가 신고한 위치의 GPS 좌표와 신고 시간을 포함. <br/> 

4) Safe 컬렉션 <br/> 
사용자 ID: 해당 안전시설 정보가 어떤 사용자에게 속하는지를 식별하는 ID. <br/> 
안전시설 정보: 안전시설의 GPS 좌표를 포함. <br/> 

5) PATH2 컬렉션 <br/> 
사용자 ID: 해당 안전 경로 정보가 어떤 사용자에게 속하는지를 식별하는 ID. <br/> 
경로 정보: 안전 경로상의 노드들의 GPS 좌표를 포함하며, 차례로 저장되어 경로를 형성. <br/> 
 
설계된 데이터 모델은 사용자 정보, 위치 정보, 신고 정보, 안전시설 정보 및 안전 경로 정보를 효과적으로 저장하고 관리할 수 있도록 구성되었다. 
이러한 구조를 기반으로 시스템을 구현함으로써 사용자의 안전과 관련된 중요한 데이터를 신속하게 처리하고 활용할 수 있을 것으로 예상된다.
